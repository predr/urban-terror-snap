name: urban-terror
summary: Free multiplayer first person shooter developed by FrozenSand
description: Urban Terror™ can be described as a Hollywood tactical shooter; somewhat realism based, but the motto is «fun over realism». This results in a very unique, enjoyable and addictive game.

version: 4.3.4
base: core18
grade: stable
confinement: strict
architectures:
  - build-on: amd64

apps:
  urban-terror:
    command: wrapper urban-terror
    environment:
      LIBGL_DRIVERS_PATH: $SNAP/usr/lib/$SNAPCRAFT_ARCH_TRIPLET/dri
      DISABLE_WAYLAND: 1
      SDL_AUDIODRIVER: pulse
    plugs:
      - desktop
      - desktop-legacy
      - wayland
      - unity7
      - x11
      - opengl
      - network
      - network-bind
      - audio-playback

  dedicated:
    command: wrapper urban-terror.dedicated
    plugs:
      - network
      - network-bind

parts:
  engine:
    plugin: dump
    source: http://builds.iourtm9.tk/urt/build-143/ioq3urt-m9-release-linux64-2014-12-12-596b587.zip
    source-checksum: md5/82d7d153f66f102166d93f33510e5cfe

  data:
    plugin: dump
    source: http://cdn.urbanterror.info/urt/43/releases/zips/UrbanTerror434_full.zip
    source-checksum: md5/9bf7f0092161391697d24f6b004a6c6b
    source-subdir: UrbanTerror43
    prime:
      - -Quake3-UrT*

  stage:
    plugin: nil
    stage-packages:
    - libasound2
    - libbsd0
    - libcurl3
    - libgcc1
    - libglu1-mesa
    - libjpeg62
    - libpulse0
    - libsdl2-2.0-0
    - libstdc++6
    - libvorbisfile3
    - libx11-6
    - libxau6
    - libxcb1
    - libxdmcp6
    - libxext6
    - libxpm4
    - libxxf86vm1
    - zlib1g
    - libslang2
    - freeglut3
    - libgl1-mesa-dri

  scripts:
    plugin: dump
    source: scripts
    